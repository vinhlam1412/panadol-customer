import React, { useState } from "react";
import { Box, Page, Spinner } from "zmp-ui";
import HeaderHome from '../icons/header-home.svg?react';
import BottomHome from '../icons/bottom-home.svg?react';
import { useNavigate } from "react-router-dom";
import { userState } from "../state";
import { useRecoilValue } from "recoil";

export  const SurveyPage = () => {
  const [rating, setRating] = useState(0);
  const [hover, setHover] = useState(null);
  const [note, setNote] = useState("");
  const navigate = useNavigate();
  const userInfor = useRecoilValue(userState)
  const stars = [1, 2, 3, 4, 5];
  const [loading, setLoading] = useState(false);

  const handleSurvey = async() => {
    setLoading(true);
    try
    {
      const res = await fetch(`${import.meta.env.VITE_API_URL}/api/user/survey`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ 
          userId: userInfor.id,
          feedback: note,
          rate: rating 
        }),
      });
      

      if (res.status === 200) {   
         const data = await res.json();  
         console.log("reward Id", data.id);
          //alert(`Đã gửi: ${rating}/5 - ${note || "(không ghi chú)"}`);
          navigate(`/qr-reward/${data.id}`);
      } else {    
         // alert(`Gửi thất bại: ${rating}/5 - ${note || "(không ghi chú)"}`);
          navigate("/")
      }

    }catch(err){
      console.log(err)
    }  
    finally {
      setLoading(false); 
    }
    
  }
if (loading) {
  return (
    <Page className="page text-center !p-0 !m-0" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '100vh' }}>
      <Box
        flex
        flexDirection="column"
        justifyContent="center"
        alignItems="center"
      >
        <Spinner visible logo={undefined} />
      </Box>
    </Page>
  );
}
  return (
    <Page className="page bg-primary !p-0 relative overflow-x-hidden">
        <div className='bg-white overflow-x-hidden px-3 w-full'>
          <div className="w-full h-2">
            <div className="absolute top-0 left-0">
              <HeaderHome />
            </div>
          </div>

          <div className={"mt-5 pt-5 mx-auto"}>
            <svg className={"mx-auto"} width="169" height="169" viewBox="0 0 169 169" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M138.467 18.9642C116.47 19.3106 25.8366 19.4991 3.16694 19.2109C1.82086 19.194 1.71861 16.8999 3.11202 16.8999C26.4805 16.9286 107.263 16.4833 138.424 17.1534C139.923 17.1838 139.516 18.9473 138.467 18.9642Z" fill="#F15A24"/>
              <path d="M111.475 84.8503C109.957 85.5055 108.344 85.9143 106.698 86.0612C106.856 87.9963 106.835 89.9418 106.635 91.8731C106.614 91.9773 106.556 92.0705 106.472 92.1362C106.388 92.2018 106.284 92.2357 106.177 92.2319C106.071 92.228 105.969 92.1867 105.89 92.1152C105.812 92.0436 105.761 91.9465 105.746 91.841C105.588 90.5202 105.958 89.0897 105.692 86.1262C103.715 86.1795 102.789 85.5669 101.052 85.3311C96.7343 84.7414 92.584 83.2687 88.86 81.0047C88.7493 80.9199 88.6765 80.7949 88.6574 80.6569C88.6382 80.5188 88.6743 80.3787 88.7577 80.267C92.5786 75.601 95.5168 70.2775 97.4283 64.5576C97.6539 63.9112 98.4017 63.0425 98.4051 64.1554C98.4144 67.0081 98.0814 69.8591 98.0814 72.7161C98.0814 77.901 98.2192 83.4476 103.271 84.7506C106.368 85.5474 109.252 84.5368 111.169 84.0247C111.624 83.8988 111.962 84.6145 111.475 84.8503Z" fill="#F15A24"/>
              <path d="M104.162 73.7565C103.719 74.6142 105.229 74.5128 106.134 74.5559C106.248 74.5654 106.355 74.6151 106.436 74.6961C106.517 74.7771 106.567 74.8843 106.577 74.9985C106.586 75.1128 106.555 75.2267 106.489 75.3202C106.422 75.4136 106.325 75.4805 106.214 75.509C105.615 75.5895 105.007 75.5551 104.422 75.4076C103.376 75.1905 102.577 74.8051 103.147 73.6331C103.515 72.842 103.933 72.0752 104.399 71.3373C104.456 71.2479 104.544 71.1824 104.646 71.1529C104.747 71.1235 104.857 71.1321 104.953 71.1772C105.049 71.2223 105.125 71.3008 105.167 71.3981C105.21 71.4953 105.215 71.6047 105.183 71.7057C104.895 72.4141 104.554 73.0997 104.162 73.7565Z" fill="#F15A24"/>
              <path d="M109.894 70.4534C109.904 70.9959 109.945 71.8181 109.146 71.8392C108.502 71.8569 108.321 71.2874 108.324 70.526C108.328 69.1546 109.861 68.7727 109.894 70.4534Z" fill="#F15A24"/>
              <path d="M102.357 70.4188C102.344 70.9376 102.123 71.4269 101.524 71.4024C101.024 71.3821 100.844 70.7061 100.858 70.2608C100.879 69.6034 101.086 69.2679 101.502 69.1766C102.14 69.0364 102.375 69.7681 102.357 70.4188Z" fill="#F15A24"/>
              <path d="M101.777 66.5485C101.442 66.5099 101.103 66.5655 100.798 66.7091C100.493 66.8527 100.235 67.0787 100.051 67.3614C99.5881 68.0459 99.093 67.484 99.2687 67.0784C99.4944 66.5852 99.8722 66.1775 100.347 65.915C100.821 65.6524 101.367 65.549 101.905 65.6199C102.025 65.6403 102.133 65.7067 102.205 65.805C102.277 65.9033 102.308 66.0258 102.291 66.1465C102.274 66.2672 102.211 66.3766 102.115 66.4517C102.019 66.5267 101.898 66.5615 101.777 66.5485Z" fill="#F15A24"/>
              <path d="M108.66 66.4321C108.555 66.4314 108.453 66.3932 108.373 66.3243C108.293 66.2555 108.24 66.1604 108.224 66.0561C108.208 65.9518 108.229 65.8452 108.284 65.7552C108.34 65.6653 108.425 65.5979 108.525 65.5651C109.17 65.4268 109.843 65.5266 110.421 65.8459C110.998 66.1652 111.44 66.6826 111.665 67.3024C111.805 67.7866 111.158 68.1838 110.913 67.6404C110.719 67.2225 110.394 66.8788 109.988 66.661C109.582 66.4431 109.116 66.3628 108.66 66.4321Z" fill="#F15A24"/>
              <path d="M104.635 78.3019C104.999 79.1201 105.643 79.7809 106.453 80.1641C107.262 80.5472 108.181 80.6274 109.045 80.3899C109.935 80.1026 110.683 79.4882 111.138 78.6707C111.593 77.8533 111.72 76.8937 111.495 75.9858C111.392 75.5633 111.013 75.4162 110.559 75.7745C108.657 77.2735 107.249 77.5076 105.001 77.5448C104.636 77.5507 104.422 77.8777 104.635 78.3019Z" fill="#F15A24"/>
              <path d="M43.1676 94.5755C43.3687 94.9566 42.806 95.3656 42.4916 95.0825C40.6723 93.4356 37.3414 91.111 36.4017 88.914C35.1342 85.9565 35.8263 82.2529 33.3183 79.8599C33.2279 79.7825 33.1707 79.6734 33.1586 79.555C33.1466 79.4366 33.1805 79.3182 33.2534 79.2242C33.3264 79.1302 33.4327 79.0678 33.5503 79.0501C33.668 79.0324 33.7879 79.0606 33.8853 79.1289C36.6569 81.0784 36.1313 84.8952 37.4149 87.6634C38.7162 90.4663 41.7413 91.8791 43.1676 94.5755Z" fill="#F15A24"/>
              <path d="M24.632 90.2592C22.0466 89.7465 19.6283 88.6015 17.5931 86.9266C16.94 86.3511 17.7224 85.8872 18.199 86.2092C20.2231 87.6392 22.5395 88.6018 24.981 89.0272C27.3639 89.3798 29.7899 89.3175 32.1517 88.843C32.7339 88.7653 32.7212 89.617 32.3207 89.857C30.4988 90.9513 26.6769 90.7096 24.632 90.2592Z" fill="#F15A24"/>
              <path d="M13.8878 88.9418C13.5262 88.5455 14.1346 88.0191 14.5317 88.3064C17.2436 90.3872 20.3573 91.8833 23.6763 92.7004C26.2688 93.2919 25.5497 94.5053 23.2225 94.0254C19.6569 93.346 16.393 91.5685 13.8878 88.9418Z" fill="#F15A24"/>
              <path d="M23.9604 98.2014C20.8804 98.0231 16.6148 96.6035 14.3029 94.5772C14.2216 94.5031 14.1694 94.4024 14.1559 94.2932C14.1423 94.184 14.1682 94.0736 14.2288 93.9818C14.2895 93.8901 14.381 93.823 14.4868 93.7927C14.5925 93.7624 14.7056 93.771 14.8057 93.8167C18.32 95.5388 20.1942 96.4134 24.1218 96.901C26.4016 97.1849 26.3348 98.3392 23.9604 98.2014Z" fill="#F15A24"/>
              <path d="M37.5721 102.144C38.1915 102.567 37.4876 103.607 36.8564 103.233C33.5254 101.272 29.7322 102.473 26.1139 102.467C22.5859 102.527 19.1297 101.467 16.2418 99.4394C15.8252 99.1276 16.284 98.504 16.7243 98.706C20.0308 100.376 23.7035 101.189 27.4059 101.072C30.8257 100.865 34.5318 100.074 37.5721 102.144Z" fill="#F15A24"/>
              <path d="M165.765 152.108C131.944 152.519 35.6471 151.672 15.0781 151.432C13.7531 151.416 12.702 149.921 15.0401 149.911C41.4886 149.774 126.378 149.807 165.716 150.169C167.265 150.179 167.269 152.089 165.765 152.108Z" fill="#17A049"/>
              <path d="M100.596 90.9702C93.1597 92.1532 78.9164 100.104 71.1602 110.361C78.5117 109.248 100.194 109.058 106.425 109.789C104.081 106.934 101.485 104.296 98.6683 101.905C99.7499 100.666 100.767 99.7016 101.657 98.8532C99.8766 97.7547 96.9496 96.0022 95.6576 95.3989C97.1211 93.731 98.779 92.2442 100.596 90.9702Z" fill="#17A049"/>
              <path d="M116.853 99.2339C117.807 100.184 118.62 101.265 119.268 102.445C116.662 103.939 111.606 106.737 108.555 109.979C111.468 110.361 113.371 111.775 114.385 116.063C114.821 117.903 115.423 120.854 116.019 124.167C121.54 122.961 127.152 122.219 132.796 121.949C131.806 119.413 130.482 117.021 128.859 114.834C128.511 114.374 129.157 113.789 129.541 114.236C131.501 116.485 133.017 119.085 134.01 121.899C136.539 121.749 139.074 121.785 141.598 122.006C142.172 122.071 142.179 122.93 141.584 122.916C133.063 122.638 124.541 123.441 116.222 125.306C117.071 130.149 117.871 135.561 118.122 139.351C131.219 139.224 152.468 145.695 155.761 137.888C163.136 120.405 140.737 92.8094 124.799 90.3936C126.144 92.2556 127.086 94.3778 127.565 96.6246C125.819 97.2304 119.143 98.8199 116.853 99.2339Z" fill="#17A049"/>
              <path d="M107.05 104.194C104.371 97.5096 104.444 93.9513 103.68 90.6744C103.662 90.5614 103.602 90.4594 103.511 90.3895C103.421 90.3197 103.307 90.2873 103.193 90.2992C103.079 90.311 102.974 90.3661 102.9 90.4531C102.826 90.54 102.788 90.6523 102.794 90.7665C102.767 94.722 104.782 101.31 106.419 105.099C106.47 105.19 106.543 105.268 106.631 105.327C106.719 105.385 106.819 105.422 106.923 105.434C107.028 105.447 107.134 105.434 107.233 105.398C107.332 105.362 107.421 105.302 107.493 105.225C112.793 97.8645 115.442 95.2053 121.52 90.4843C121.614 90.4174 121.679 90.3164 121.701 90.2026C121.723 90.0888 121.699 89.971 121.636 89.8739C121.573 89.7769 121.474 89.7082 121.361 89.6823C121.248 89.6563 121.13 89.6751 121.03 89.7348C115.39 93.4993 110.622 98.4301 107.05 104.194Z" fill="#17A049"/>
              <path d="M63.9544 111.124C58.7407 107.945 49.9029 100.125 46.2795 95.1772C42.6382 98.8914 39.3989 102.979 36.6152 107.373C43.2113 117.101 53.6572 127.595 60.2034 130.644C59.4429 127.4 59.2494 118.436 59.4429 115.575C59.6364 112.714 61.7929 111.569 63.9544 111.124Z" fill="#17A049"/>
              <path d="M34.078 110.976C35.6953 110.909 34.8639 109.775 34.1743 109.761C24.9638 109.58 15.0926 109.356 8.14834 109.464C8.68492 69.3372 8.36381 44.0185 8.58351 21.4088C8.58943 20.8097 7.69119 20.9018 7.66415 21.4722C6.78704 39.8535 7.32615 89.3536 6.65015 109.327C6.62649 110.011 6.67382 110.448 8.15426 110.514C12.3007 110.7 16.3415 110.708 20.5115 110.779C24.3436 110.846 30.3642 111.132 34.078 110.976Z" fill="#17A049"/>
              <path d="M134.987 71.1489C135.394 62.9101 135.267 54.5624 135.304 46.3059C135.326 41.4252 135.548 28.3209 135.493 21.8896C135.483 20.7759 134.335 21.4105 134.323 21.9741C134.101 32.894 133.525 60.1605 133.943 71.1607C133.978 72.0868 134.946 72.0733 134.987 71.1489Z" fill="#17A049"/>
              <path d="M21.5007 45.9678C21.5007 43.2892 21.5236 40.6122 21.5007 37.9336C33.5657 37.8643 45.6382 37.7958 57.7014 37.5778C57.7115 39.9219 57.7014 42.2659 57.7014 44.6099C46.1781 44.9048 34.3946 45.3392 22.8367 45.5462C22.0922 45.5597 22.2131 46.6717 22.933 46.681C34.6033 46.8221 46.6319 46.0777 58.3385 45.7743C58.4934 45.7583 58.6361 45.6829 58.7366 45.5639C58.8371 45.445 58.8876 45.2918 58.8776 45.1364C58.8776 42.3994 58.8683 39.6616 58.8869 36.9246C58.8705 36.7686 58.7942 36.6249 58.6742 36.5238C58.5542 36.4227 58.3997 36.3719 58.243 36.3822C45.7784 36.3898 33.3054 36.5596 20.8408 36.7261C20.6814 36.7426 20.5346 36.8202 20.4313 36.9426C20.3279 37.065 20.276 37.2228 20.2865 37.3826C20.3558 40.2725 20.5028 43.1557 20.6025 46.0439C20.6169 46.6312 21.4999 46.5484 21.5007 45.9678Z" fill="#17A049"/>
              <path d="M20.7971 65.2822C33.3977 64.7904 46.371 64.7329 58.8948 63.8702C58.9865 63.8723 59.0775 63.854 59.1612 63.8165C59.2449 63.7791 59.3192 63.7235 59.3788 63.6538C59.4383 63.584 59.4816 63.5019 59.5055 63.4133C59.5293 63.3248 59.5332 63.232 59.5167 63.1418C59.2953 61.3555 59.0731 59.5691 58.8407 57.7845C58.7435 57.0434 57.6315 57.2969 57.7126 58.0245C57.8816 59.5751 58.0692 61.1248 58.2534 62.672C46.0195 63.1883 33.6774 63.5373 21.4959 63.9277C21.4959 61.505 21.4832 59.079 21.5517 56.6607C33.8676 56.5331 45.9722 56.3336 58.4233 56.435C58.5434 56.437 58.6595 56.3923 58.7473 56.3102C58.835 56.2282 58.8874 56.1153 58.8934 55.9953C58.8995 55.8753 58.8587 55.7577 58.7796 55.6673C58.7005 55.5768 58.5894 55.5207 58.4697 55.5106C45.9705 54.9352 33.4189 55.1887 20.8672 55.214C20.77 55.2088 20.6726 55.2228 20.5808 55.2554C20.4889 55.288 20.4045 55.3384 20.3322 55.4037C20.2599 55.4691 20.2013 55.5481 20.1597 55.6362C20.1181 55.7243 20.0944 55.8197 20.0898 55.9171C20.1938 58.801 20.1549 61.6952 20.165 64.5825C20.1585 64.7585 20.2209 64.9301 20.339 65.0607C20.457 65.1914 20.6214 65.2709 20.7971 65.2822Z" fill="#17A049"/>
              <path d="M57.8595 82.2041C51.8093 82.2844 44.1122 82.1644 37.9057 82.4576C37.386 82.4821 37.4096 83.5418 37.9192 83.5502C43.5072 83.6457 51.9639 83.3694 58.4239 83.5054C59.138 83.5206 59.1709 82.8294 59.0873 82.3157C58.6701 79.7938 58.6476 77.2225 59.0205 74.6938C59.0377 74.6026 59.0343 74.5087 59.0104 74.419C58.9866 74.3293 58.9429 74.2461 58.8827 74.1755C58.8225 74.1049 58.7472 74.0487 58.6624 74.011C58.5776 73.9733 58.4854 73.9551 58.3927 73.9578C46.0996 74.2484 33.8032 74.7031 21.511 74.8999C21.3457 74.9112 21.1913 74.9861 21.08 75.1088C20.9688 75.2316 20.9094 75.3926 20.9144 75.5582C20.8924 78.2183 20.8975 80.8817 20.8789 83.5384C20.8904 83.7133 20.9695 83.877 21.0994 83.9948C21.2293 84.1125 21.3999 84.1752 21.5752 84.1696C25.1242 84.0395 27.9186 84.0589 31.4684 83.84C32.0599 83.8037 32.0101 82.7365 31.4237 82.7348C28.0961 82.7255 25.5298 82.7618 22.203 82.8311C22.1903 80.5995 22.1878 78.3678 22.1726 76.1362C34.0212 75.7137 45.8791 75.5278 57.7302 75.1965C57.4529 77.5273 57.4964 79.8851 57.8595 82.2041Z" fill="#17A049"/>
              <path d="M86.584 90.0826C87.1434 90.2153 87.2955 89.317 86.753 89.1582C80.8356 87.2729 75.8723 83.1798 72.895 77.7295C66.0243 65.4585 70.2755 49.3773 81.4379 41.2196C91.3244 33.994 112.563 34.1411 119.411 45.9516C119.825 46.6657 120.9 46.2753 120.556 45.5156C115.202 33.7152 93.4716 32.0252 82.8153 38.5317C70.2679 46.1958 64.4483 62.7714 70.6642 76.3564C73.7907 83.1908 79.5975 88.4281 86.584 90.0826Z" fill="#17A049"/>
              <path d="M134.889 92.556C135.103 90.7342 134.912 85.8805 134.92 83.0404C134.92 82.0214 133.963 82.3957 133.929 82.8224C133.725 86.0641 133.717 89.315 133.903 92.5577C133.941 93.0419 134.833 93.0342 134.889 92.556Z" fill="#17A049"/>
              <path d="M137.917 142.533C132.874 141.941 122.414 141.293 115.622 141.181C115.622 137.281 111.892 114.986 109.519 113.121C107.246 111.335 64.1235 111.002 62.3431 114.389C60.0024 118.847 63.8708 146.466 66.007 147.196C69.4825 148.379 135.541 148.182 138.423 147.956C139.93 147.842 140.145 142.792 137.917 142.533ZM75.6544 115.781C73.1498 116.043 70.7534 116.389 68.2555 116.755C66.0932 117.072 65.9402 117.525 65.7053 119.6C65.4076 122.065 65.2648 124.545 65.2778 127.027C65.2778 127.555 64.5097 127.694 64.4395 127.138C64.1162 124.29 64.1378 121.413 64.5037 118.57C64.7454 116.704 65.4332 115.866 67.2922 115.486C70.0409 114.931 72.8468 114.711 75.6484 114.83C75.7622 114.847 75.8663 114.904 75.9417 114.991C76.0172 115.077 76.0591 115.188 76.0598 115.303C76.0605 115.418 76.02 115.53 75.9456 115.617C75.8712 115.705 75.7679 115.763 75.6544 115.781ZM86.6951 134.649C84.908 134.987 82.9721 134.02 82.2749 131.294C81.6691 128.928 82.7819 127.143 84.7474 126.64C89.4541 125.437 91.1736 133.793 86.6951 134.649Z" fill="#F15A24"/>
              <path d="M135.554 78.2352C127.519 70.2728 132.309 59.1095 127.17 53.7074C126.198 52.6597 124.885 51.9912 123.466 51.8209C122.047 51.6507 120.614 51.9898 119.422 52.7779C115.463 46.3399 107.388 44.7817 100.513 46.9238C93.0206 49.2585 90.336 58.4056 96.3507 61.3496C99.5026 62.8926 110.568 63.0235 114.027 62.3535C114.304 65.218 115.376 67.9482 117.121 70.2365C117.3 70.4519 117.55 70.7502 117.848 70.49C118.169 70.2001 118.547 69.9802 118.959 69.8442C119.37 69.7082 119.804 69.6591 120.235 69.6999C120.666 69.7408 121.084 69.8707 121.463 70.0814C121.841 70.2922 122.171 70.5792 122.432 70.9243C122.673 71.2796 122.841 71.6789 122.926 72.0993C123.012 72.5197 123.014 72.9529 122.932 73.374C122.85 73.7951 122.685 74.1958 122.447 74.5531C122.21 74.9104 121.904 75.2172 121.548 75.456C120.514 76.1396 119.777 76.0399 118.62 75.9816C118.257 75.9639 118.19 76.2672 118.165 76.5444C117.808 80.57 117.411 85.1634 118.026 89.167C118.042 89.2781 118.1 89.3787 118.189 89.4473C118.278 89.516 118.39 89.5472 118.501 89.5345C118.613 89.5217 118.715 89.4659 118.786 89.379C118.857 89.292 118.892 89.1808 118.882 89.069C118.89 87.984 118.85 86.899 118.814 85.8132C124.471 86.4461 131.635 83.1371 135.571 79.354C136.195 78.7617 135.749 78.4279 135.554 78.2352ZM105.118 50.6916C103.738 50.6668 102.373 50.9768 101.14 51.5949C99.7704 52.2523 97.445 53.8866 97.6013 55.6002C97.6478 56.114 96.9093 56.4283 96.7174 55.8985C95.7922 53.3449 98.3677 51.3499 100.085 50.4128C101.614 49.5781 103.328 49.1381 105.07 49.1326C107.299 49.1351 106.379 50.7448 105.118 50.6916Z" fill="#F15A24"/>
            </svg>

          </div>

    <main className="min-h-screen flex items-start justify-center p-6">
      <div className="w-full max-w-sm bg-white rounded-2xl shadow-sm ring-1 ring-black/5 p-6">
        {/* Title */}
        <h1 className="text-center text-2xl font-semibold text-emerald-600">Khảo sát</h1>

        {/* Rating */}
        <div className="mt-6">
          <div className="flex items-center justify-between">
            <label className="text-sm font-medium text-slate-700">Đánh giá trải nghiệm</label>
            <span className="text-slate-300 text-lg tabular-nums">{rating}/5</span>
          </div>

          <div className="mt-2 flex items-center gap-2">
            {stars.map((i) => {
              const filled = (hover ?? rating) >= i;
              return (
                <button
                  key={i}
                  type="button"
                  aria-label={`Chọn ${i} sao`}
                  onMouseEnter={() => setHover(i)}
                  onMouseLeave={() => setHover(null)}
                  onClick={() => setRating(i)}
                  className="p-1"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    className="h-8 w-8 drop-shadow-sm"
                    fill={filled ? "currentColor" : "none"}
                    stroke={filled ? "currentColor" : "#cbd5e1" /* slate-300 */}
                    color={filled ? "#16a34a" : undefined /* emerald-600 when filled */}
                    strokeWidth={1.5}
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.1 5.062a.563.563 0 0 0 .475.345l5.462.397c.499.036.701.663.321.988l-4.17 3.538a.563.563 0 0 0-.182.557l1.277 5.27a.562.562 0 0 1-.84.61l-4.727-2.83a.563.563 0 0 0-.586 0l-4.727 2.83a.562.562 0 0 1-.84-.61l1.277-5.27a.563.563 0 0 0-.182-.557L2.122 10.29a.563.563 0 0 1 .321-.988l5.462-.397a.563.563 0 0 0 .475-.345l2.1-5.062Z"
                    />
                  </svg>
                </button>
              );
            })}
          </div>
        </div>

        {/* Feedback */}
        <div className="mt-6 space-y-2">
          <label className="text-sm font-medium text-slate-700">Chia sẻ cảm nghĩ</label>
          <input
            type="text"
            value={note}
            onChange={(e) => setNote(e.target.value)}
            placeholder="Chương trình rất tuyệt vời"
            className="w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm placeholder:text-slate-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-300"
          />
        </div>

        {/* Submit */}
        <button
          type="button"
          disabled={rating === 0 || loading}
          className= {loading ? "opacity-50 cursor-not-allowed" : "mt-6 w-full rounded-xl bg-emerald-600 px-4 py-3 text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-emerald-700 transition-colors"}
          onClick={() => handleSurvey()}
        >
          Xác thực
        </button>
      </div>
    </main>
          
          <div className="w-screen -translate-x-3 overflow-hidden">
              <div className="">
                <BottomHome />
              </div>
          </div>
        </div>
      </Page>
  );
}
